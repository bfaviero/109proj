<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="109proj : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>109proj</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/bfaviero/109proj">View on GitHub</a>

          <h1 id="project_title">109proj</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/bfaviero/109proj/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/bfaviero/109proj/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="demystifying-the-hedge-fund-mirage----from-big-data-to-big-money" class="anchor" href="#demystifying-the-hedge-fund-mirage----from-big-data-to-big-money" aria-hidden="true"><span class="octicon octicon-link"></span></a>Demystifying the Hedge Fund Mirage -- From Big Data To Big Money</h1>

<p>Contributors: Juye Lu (<a href="mailto:shirllu@mit.edu">shirllu@mit.edu</a>); Bruno Faviero (<a href="mailto:bfaviero@mit.edu">bfaviero@mit.edu</a>)</p>

<h1>
<a id="abstract" class="anchor" href="#abstract" aria-hidden="true"><span class="octicon octicon-link"></span></a>Abstract</h1>

<p>The top hedge funds these days makes billions in return every year, and over the past 15 years, their returns have beaten the overall stock market, helping drive the boom. In our project built on iPython and with Python's Pandas module, we studied stock holdings across 8 relatively well-performing global macro hedge funds. We studied whether each fund's strategy is beta-heavy and what are metrics, be it of the overall market, of separate market sectors, or of the hedge fund industry, that affect the fund's portfolio composition. Based on our analysis, we detected a strong correlation between market performance and stocks holdings, as indicated by a large portion of S&amp;P stocks that these funds retain. Through our delta analysis, we also noticed that funds’ holdings vary quite a bit with consumer confidence and the general market performance, but not so much with variation in prices of their stock holdings. Eventually, we ran a simple Monte Carlo simulation and a Bayesian prediction model to predict how the funds’ holdings of the 3rd quarter this year will change to in the next quarter, and we look forward to validate our prediction with next quarter’s holdings information, which will be released next month. </p>

<p>Project Objectives
We address here primarily the reverse problems that appear in finance, when it is required to determine the time-varying exposure of an investment portfolio such as hedge fund to market or economic factors using only periodic performance of such portfolio. We hope to leverage the machine learning techniques such as regression, clustering, dimensionality-reduction and support vector machines to the analysis of a hedge fund's returns, thereby reverse-engineering its strategies. We are curious to see if there is any similarity in the fund holdings within firms and across firms of the same strategy. In addition, is there any common factor/parameter in the models of hedge fund strategies? </p>

<p>With data on the quarterly holdings of top-performing hedge funds going back 15 years, we would try to detect trend/pattern on three different levels:
strategy level: 
Examine all firms of the same type, i.e. macro, equity hedge etc. and try to detect a common strategy or model shared across firms
 firm level:
Examine holdings of the same firm across different time spans and try to detect if there is a model that the firm follows or an obvious/ubiquitous pattern in the firm’s holdings: for example, the firm can tend to hold a large number of holdings in the technology sector or the healthcare sector etc.
time level:
How do firms/different strategies’ performance vary across different time ranges. Is a certain time of the year better suited for a specific strategy vs another? How does it relate to the market benchmarks such as inflation or GDP performance, taking into account other investment vehicles such as mutual funds and futures and options? Also, looking into correlations in whether factors like YTD performance, rolling-average deviation, and price momentum factor into placing a PUT or CALL on a stock.</p>

<h1>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h1>

<p>There are 3 stages to our project. We first defined what our objectives are -- to find correlation between various performance metrics along with stock prices and funds’ portfolio composition. Then we collected data both programmatically and manually from various credited sources explained in detail in the next section. Then we leveraged a couple of machine learning techniques to decipher our data. Lastly, we drew some conclusions based on our visualization and numeric analysis both on a fund level and on a global macro hedge fund strategy level. </p>

<h1>
<a id="datasets" class="anchor" href="#datasets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Datasets</h1>

<p>We had a few different types of data.</p>

<p>For hedge funds, we had quarterly data on all of their holdings for the last 15 years. For each hedge fund, we had data representing the stock they’d invested in, its sector, the current value of that investment, the number of shares, and percent of the portfolio that that stock took up.</p>

<p>For national metrics, we downloaded data from the St. Louis Federal Reserve on the Consumer Pricing Index, Gross Domestic Product, unemployment claims, consumer sentiment data, and inflation rates. We believed these to be some of the top data points for market performance and wanted to see how hedge funds used them.</p>

<p>For ticker data:
We originally used Yahoo Finance data through the python pyq library, and then switched to using Quandl’s Google Finance dataset.</p>

<p><img src="https://raw.githubusercontent.com/bfaviero/109proj/master/graphs/quandl.png" alt=""></p>

<h1>
<a id="implementation" class="anchor" href="#implementation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Implementation</h1>

<p><strong>Data Wrangling stage</strong>
We originally used the pyq python library that scraped Yahoo Finance to retrieve the data information on specific stocks by pulling stock data from every trading day between two specific dates. We pulled data between 2000 and 2014 — the years we had hedge fund data for — and aligned the price data to the specific dates for ends of quarters. After beginning analysis, we realized that Yahoo Finance did not have data on every ticker that we wanted, so we switched to the Quandl API using Google Finance. The Quandl API provided us with about 50% of the ticker data we needed. Many other tickers ended up being on different exchanges than the ones that Quandl had data for. Solving this problem involved downloading Quandl’s list of 72,000 unique exchange-ticker tags, and combing through each one to see if it matched one of our missing tickers. That got us up to a little over 70% of all the tickers we needed. For the rest, we started doing manual searching to see if we could identify common patterns of why they were missing. It was determined that the remaining tickers were either relisted under different names since the original investment, delisted from the stock exchange altogether, or merged with or were acquired by another company.</p>

<p>After manually looking through over 60 tickers, we found that around 25% of those we looked at had since been relisted under a different ticker, sometimes on a different exchange. The process for discovering these was manually laborious, as there was no dataset that listed mappings of companies and all of their previous ticker symbols. The rest were all unlisted either due to going out of business or not having shares worth enough to be listed on an exchange, or from a merger or acquisition as determined through manual Bloomberg searches. We did, however, capture stocks that switch to being “over-the-counter” stocks (traded within brokerage networks), since those were captured by the Quandl database.</p>

<p>We also performed an analysis of stock reactions to sector performance, and analyzed it using some categorizations from this paper on hedge fund clustering  that lays down a few criteria for hedge fund. In the graphs below, we see two types of hedge funds:</p>

<p>Marker neutral: aggressively use leverage to capitalize on small pricing differences. Attempt to minimize market risk by staying sector-neutral and actively seek out opportunities for profit in any sector.
Market Tactical: Place longer-term bets on sectors to and capitalize on early mispricing.<br>
We found that, since a fund has a relatively fixed amount of money, the percent of the fund that a sector took up was representative of how much they believed in that sector. </p>

<p><img src="https://raw.githubusercontent.com/bfaviero/109proj/master/graphs/sector_matrix.png" alt=""></p>

<p>We see that coatue maintains a constantly high percentage of its fund in IT, and its percentage of IT and consumer discretionary are inversely correlated. That is, it has most of its money either in IT or consumer discretionary. It is interesting to note, since Coatue considers itself primarily a technology firm, but we see that it has decreased its investment in IT steadily since 2008. Looking at consumer discretionary in general, we see that most funds track consumer discretionary pretty closely. Elliott follows materials and IT.  </p>

<p>The correlation and average percent (that a sector takes up in a fund) boxplots support some of these inferences.  </p>

<p><img src="https://raw.githubusercontent.com/bfaviero/109proj/master/graphs/average_percent_boxplot.png" alt=""></p>

<p><img src="https://raw.githubusercontent.com/bfaviero/109proj/master/graphs/correlation_boxplot.png" alt=""></p>

<p>Wellington tracks sectors more closely, as evidenced by its higher correlation, but also spreads those investments more evenly, trying to distribute risk, roughly maintaining the distribution of sectors in its portfolio. Each fund tries to differentiate itself from the others — Coatue invests more heavily in IT, Bluecrest in finance, elliott in finance, industrials, IT, and Healthcare. Soros is a clear outlier. The most successful hedge fund today, Soros seems to track no sector sectors closely, and based on the data from the matrix as well throws its leverage aggressively behind any market that seems like it's doing well, building up  no long-term bets. The "average percent" boxplot supports this and the matrix as well, as Soros, when the fund does invest, seems to use its much of its leverage and take a higher risk in that specific position by doing so, making it the only real “market neutral” firm that goes after short-term opportunities. We used this as somewhat of a launching point to see if there were any correlations used in investments within the sectors as they related to national metrics like GDP and CPI.</p>

<p>We were particularly interested in how a fund’s holdings react to changes in prices, overall US economy performance, and hedge fund industry performance. Therefore, we decided to perform delta analysis, extracting changes in shares, values, and percentage of holdings as our dependent variables and calculating changes in all of our indices and prices found online as our dependent variables. So we first tried to infer correlation between our dependent and independent variables through scatter plots, trying to see if any linear/polynomial type of relationship exist between each pair.   </p>

<p><img src="https://raw.githubusercontent.com/bfaviero/109proj/master/graphs/scatter.png" alt="" title="Relationship between change in shares and Consumer Sentiment for Bluecrest Capital"></p>

<p>We started with Bluecrest Capital, and tried to plot the relationship between its change in share percentage to CPI, jobless claims, inflation, dow, S&amp;P, and other indices provided by Hedge Fund Research, inc. We found that, for Bluecrest, the change in percent of its holdings was affected by the CPI, jobless rates, and HRF’s diversidied index. This makes sense as a firm that has a diversified portfolio but tracks Consumer Disc. in particular. Its overall value is most influenced by GDP. However, based on our scatter matrix, it does not seem like such a relationship exists.</p>

<p><img src="https://raw.githubusercontent.com/bfaviero/109proj/master/graphs/matrix.png" alt="matrix" title="Correlation between various independent and dependent variables"></p>

<p>Even so, we still tried running multivariate linear regression with changes in stock prices along with performance metrics against changes in holdings. However, the covariance coefficients and the scores indicated that linear relationships do not seem to exist between our defined dependent and independent variables. Hence, we decided to try a different approach, running PCA analysis. We intended to use an orthogonal transformation to convert a set of observations of possibly correlated variables into a set of values of linearly uncorrelated principal components. </p>

<p>We tested our projection on 1, 2, and 3 dimensions and checked whether variance would be stronger if we reduce our dimensions. However, based on our test scores, we noticed that reduced dimension doesn’t show strong correlation, and the generated test scores indicated that. 
<img src="https://raw.githubusercontent.com/bfaviero/109proj/master/graphs/PCA.png" alt="">
We proceeded to then take a different direction and carry out a bayesian analysis on the current holdings data to predict the percent change in the number of shares invested for next quarter.
With calculated posterior mu and sd, we ran a Monte Carlo simulation 100 times and took the average on percentage for each ticker for the ticker that were in the fund's portfolio in the 3rd quarter of 2014. Then we can attempted to predict what the percentage holding for each ticker will be for the next quarter. When we get data from the next quarter, we can validate whether our prediction is close.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">109proj maintained by <a href="https://github.com/bfaviero">bfaviero</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
